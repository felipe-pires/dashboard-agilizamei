<div class="content">
  <div class="title">
    <h1>Produtos</h1>
  </div>
  <button mat-stroked-button color="primary" (click)="criarProdutoComponent()" >Novo Produto</button>
  
  <mat-form-field class="mat-mdc-form-field">
    <mat-label>Filter</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="Ex. felipe" #input />
  </mat-form-field>

  <div class="mat-elevation-z1 content-table">
    <table mat-table  [dataSource]="dataSource" class="table">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>#</th>
        <td mat-cell *matCellDef="let row">{{ row.id }}</td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Nome</th>
        <td mat-cell *matCellDef="let row">{{ row.name }}</td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Descrição</th>
        <td mat-cell *matCellDef="let row">{{ row.description }}</td>
      </ng-container>

      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef>Preço de venda</th>
        <td mat-cell *matCellDef="let row">{{ row.price | currency:'BRL':'symbol':'1.2-2':'pt-BR' }}</td>
      </ng-container>

      <ng-container matColumnDef="cost">
        <th mat-header-cell *matHeaderCellDef>Preço de custo</th>
        <td mat-cell *matCellDef="let row">{{ row.cost | currency:'BRL':'symbol':'1.2-2':'pt-BR' }}</td>
      </ng-container>

      <ng-container matColumnDef="expirationDate">
        <th mat-header-cell *matHeaderCellDef>Data de validade lote</th>
        <td mat-cell *matCellDef="let row">{{ row.expirationDate | date: 'dd-MM-yyyy' }}</td>
      </ng-container>
   
      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef>Quantidade</th>
        <td mat-cell *matCellDef="let row">{{ row.amount }}</td>
      </ng-container>

      <ng-container matColumnDef="typeProduct">
        <th mat-header-cell *matHeaderCellDef>Tipo</th>
        <td mat-cell *matCellDef="let row">
          {{ row.typeProduct === 'PRODUTO_PARA_VENDA' ? 'Produto para Venda' : (row.typeProduct === 'MATERIA_PRIMA' ? 'Insumo de Trabalho' : row.typeProduct) }}
        </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th class="mat-header" mat-header-cell *matHeaderCellDef>Ações</th>
        <td mat-cell *matCellDef="let row">
          <a  routerLink="update/{{ row.id }}" class="edit" href="#">
            <i class="material-icons">edit</i>
          </a>

          <a routerLink="delete/{{ row.id }}" class="delete">
            <i class="material-icons">delete</i>
          </a>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
